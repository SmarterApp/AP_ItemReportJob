package org.opentestsystem.ap.irj.model;

import lombok.Getter;
import org.opentestsystem.ap.common.model.TutItem;
import org.opentestsystem.ap.common.model.TutItemCore;
import org.opentestsystem.ap.common.model.ValidationResult;
import org.opentestsystem.ap.irj.util.ReportUtil;

import java.util.List;

public class TutItemReport extends AbstractItemReport<TutItem> {

    public TutItemReport(final TutItem item, final String reportStatus,
                         final List<ValidationResult> validationResults) {
        super(item, reportStatus, validationResults);
    }

    @Override
    public String getItemContent() {
        final TutItemCore core = getItem().getCore();
        final Content content = new Content(core);
        return ReportUtil.toJsonString(content);
    }

    @Getter
    private static class Content {

        private final String content;

        private Content(final TutItemCore core) {
            this.content = core.getEn().getContent();
        }
    }

}
